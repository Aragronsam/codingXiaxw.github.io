<!DOCTYPE html>
<html>

<!-- Head tag -->

<head>
 	 <!-- Meta data -->
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="Life is short,just coding.">
    <meta name="keyword"  content="undefined">
    <title>JavaWeb学习笔记之EL表达式 | Stephen&#39;s blog</title>
    <!-- Favicon -->
    <link rel="Shortcut Icon" href="/favicon.ico">

    <!-- css files -->
    <link rel="stylesheet" href="/css/app.css">
    <link rel="stylesheet" href="/css/normalize.css">
    <link rel="stylesheet" href="/css/font-awesome.min.css">

</head>

<body>
	<!-- header -->
	<header class="header">
    <section class="banner">
        <div class="banner-image">
            <img src="http://7xl0rs.com1.z0.glb.clouddn.com/banner.png" alt="banner">
        </div>
        <img class="avatar" src="http://7xl0rs.com1.z0.glb.clouddn.com/avatar.png" alt="avatar" >
    </section>

    <nav class="nav">
    
    	<a href="/">Home</a>
    
    	<a href="/archives">Archives</a>
    
    	<a href="/about">About</a>
    
    	<a href="/atom.xml">Rss</a>
    
    </nav>
    <button class="menu-toggle">
        <div class="nav-bar">
             
                <a href="/">Home</a>
            
                <a href="/archives">Archives</a>
            
                <a href="/about">About</a>
            
                <a href="/atom.xml">Rss</a>
            
        </div>
    </button>
    
</header>

	<!-- Main content -->
	<main class="post">

	<article>
	<h1 class="article-title">
	   JavaWeb学习笔记之EL表达式
	</h1>

	<section class="post-time">
		<span class="post-date">10-03</span>
	</section>

	<section class="article-entry">
	    <h2 id="1-概述"><a href="#1-概述" class="headerlink" title="1.概述"></a>1.概述</h2><p>EL，即Expression Language。在JavaWeb中属于JSP技术。  </p>
<p>JSP中的表达式:Java脚本表达式<code>&lt;%=Java表达式%&gt;</code>;EL表达式<code>${EL表达式}</code>。  </p>
<a id="more"></a>
<p>JavaWeb中最好不要在JSP中写Java代码，所以用EL表达式来替代Java表达式。  </p>
<h2 id="2-语法及用法"><a href="#2-语法及用法" class="headerlink" title="2.语法及用法"></a>2.语法及用法</h2><h3 id="2-1获取某个对象的值，并将其输出到页面上。"><a href="#2-1获取某个对象的值，并将其输出到页面上。" class="headerlink" title="2.1获取某个对象的值，并将其输出到页面上。"></a>2.1获取某个对象的值，并将其输出到页面上。</h3><ul>
<li>1.点运算符:<code>${stu.name}</code>，即调用域中<code>stu</code>对应的对象的<code>name</code>的读属性<code>getName()</code>。但，若stu在4个域中没有绑定相应对象，那么就在网页上输出空字符串(即什么都不输出)。  </li>
</ul>
<p><code>${stu.name}</code>相当于:  </p>
<pre><code>&lt;%  
Student stu=pageContext.getAttribute(&quot;stu&quot;);  
if(stu!=null) out.println(stu.getName());  
%&gt;
</code></pre><ul>
<li>2.[]运算符:<code>${stu[&#39;name&#39;]}</code>或者<code>${stu[&quot;name&quot;]}</code>。与点运算符作用一样，但当索引或者名称不符合Java名称规范时(如，获取数组中的某个值)，只能用[]运算符。</li>
<li>3.获取集合中的元素:List按照索引来获取元素:<code>${obj.list[1]}</code>，Map按照指定的key来获取元素:<code>${obj.map.key}</code>或者<code>${obj.map[&#39;key&#39;]}</code>。</li>
</ul>
<h3 id="2-2逻辑和数学运算"><a href="#2-2逻辑和数学运算" class="headerlink" title="2.2逻辑和数学运算"></a>2.2逻辑和数学运算</h3><ul>
<li>1.empty运算符:判断一个对象是否为null或者””，是则返回true，否则返回false。也可以判断一个数组和集合，当数组或集合对象不是null，但对象中没有原素也返回true。</li>
<li>2.数学运算符:<code>+-*/</code>。如<code>${i+1}</code></li>
<li>3.三元运算符:<code>${表达式?T表达式:F表达式}</code>。如<code>${a&gt;1?a+1:a-1}</code></li>
<li>4.不支持字符串连接。如<code>${str+str}</code>，这是错误的。</li>
</ul>
<h3 id="2-3、11个内置对象"><a href="#2-3、11个内置对象" class="headerlink" title="2.3、11个内置对象"></a>2.3、11个内置对象</h3><p>EL内置对象(或隐式对象)，即在EL表达式中可以直接调用的对象。总结起来就是有一个JSP对象，十个Map对象。</p>
<ul>
<li>pageContext:与JSP内置对象pageContext完全一样。</li>
<li>pageScope:当前页面的域对象的Map。</li>
<li>requestScope:请求域对象的Map。</li>
<li>sessionScope:会话域对象的Map。</li>
<li>applicationScope:应用域对象的Map。</li>
<li>param:请求参数的Map，key为请求参数名，value为请求参数的值。</li>
<li>paramValues:请求参数(可重名)的<code>Map&lt;String,String[])</code>，key为请求参数名，value为请求参数的值数组。</li>
<li>header:请求消息头Map，key为请求头名，value为对应的值。</li>
<li>headerValues:请求消息头(可重名)的<code>Map&lt;String,String[]&gt;</code>，key为请求名，value为请求头值数组。</li>
<li>cookie:封装cookie的<code>Map&lt;String,Cookie&gt;</code>，key为cookie的name属性，value为cookie对象本身。</li>
<li>initParam:初始化参数的Map，在web.xml中的context-param元素中定义的初始化参数。</li>
</ul>
<h3 id="2-4自定义EL函数。"><a href="#2-4自定义EL函数。" class="headerlink" title="2.4自定义EL函数。"></a>2.4自定义EL函数。</h3><h4 id="第一步：定义一个有静态方法的类。"><a href="#第一步：定义一个有静态方法的类。" class="headerlink" title="第一步：定义一个有静态方法的类。"></a>第一步：定义一个有静态方法的类。</h4><pre><code>package net.codingXiax.util;  

public class StringUtil{  
  public static String toUppercase(String str){  
     return &quot;字符串&quot;;  
     }  
   }
</code></pre><h4 id="第二步-配置tld。"><a href="#第二步-配置tld。" class="headerlink" title="第二步:配置tld。"></a>第二步:配置tld。</h4><p>在Web-INF目录下(也可以在其他目录下，该目录下建立安全性更高)，建立一个扩展名为tld的xml文件。  </p>
<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;  
&lt;taglib xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;  
        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;  
        xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-jsptaglibrary_2_0.xsd&quot;  
        version=&quot;2.0&quot;&gt;  
        &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;  
        &lt;short-name&gt;myfn&lt;/short-name&gt;  
        &lt;uri&gt;http://www.yrom.net/jsp/string/fn&lt;/uri&gt;  
        &lt;function&gt;  
              &lt;name&gt;toUppercase&lt;/name&gt;  
              &lt;function-class&gt;net.yrom.util.StringUtil&lt;/function-class&gt;  
              &lt;function-signature&gt;java.lang.String toUpperCase( java.lang.String )&lt;/function-signature&gt;  
        &lt;/function&gt;  
&lt;/taglib&gt;
</code></pre><h4 id="第三步-配置web-xml"><a href="#第三步-配置web-xml" class="headerlink" title="第三步:配置web.xml."></a>第三步:配置web.xml.</h4><p>如果tld文件是在Web-INF目录或类路径下，此步可跳过。  </p>
<pre><code>&lt;jsp-config&gt;
&lt;taglib&gt;
    &lt;taglib-uri&gt;http://www.yrom.net/jsp/string/fn&lt;/taglib-uri&gt;
    &lt;taglib-location&gt;/WEB-INF/myfn.tld&lt;/taglib-location&gt;
&lt;/taglib&gt;  
&lt;/jsp-config&gt;
</code></pre><h4 id="第四步：在JSP中使用。"><a href="#第四步：在JSP中使用。" class="headerlink" title="第四步：在JSP中使用。"></a>第四步：在JSP中使用。</h4><p>注意应先用taglib指令引入该uri。  </p>
<pre><code>&lt;%@ taglib uri=&quot;/该tld所在位置&quot; prefix=&quot;myfn&quot; %&gt;  
...  
&lt;body&gt;  
&lt;%  
   pageContext.setAttribute(&quot;a&quot;,&quot;aaa&quot;);  
%&gt;  
   ${myfn:toUppercase(a)}  
&lt;/body&gt;  
...  
</code></pre><h3 id="2-5JSTL标签库"><a href="#2-5JSTL标签库" class="headerlink" title="2.5JSTL标签库"></a>2.5JSTL标签库</h3><p>JSTL标签库将在下篇文章<a href="">JavaWeb学习笔记之JSTL标签库</a>中详细介绍。</p>
<hr>
<h2 id="3-联系"><a href="#3-联系" class="headerlink" title="3.联系"></a>3.联系</h2><p>  If you have some questions after you see this article,you can tell your doubts in the comments area or you can find some info by  clicking these links.</p>
<ul>
<li><p><a href="http://codingxiaxw.cn" target="_blank" rel="external">blog@codingXiaxw’s blog</a></p>
</li>
<li><p><a href="http://weibo.com/u/5023661572?from=hissimilar_home&amp;refer_flag=1005050003_" target="_blank" rel="external">Weibo@codingXiaxw</a></p>
</li>
<li><p><a href="http://www.zhihu.com/people/e9f78fa34b8002652811ac348da3f671" target="_blank" rel="external">Zhihu@codingXiaxw</a>  </p>
</li>
<li><a href="https://github.com/codingXiaxw" target="_blank" rel="external">github@codingXiaxw</a></li>
</ul>

	</section>	
</article>

</main>

	<!-- footer -->
	<footer>
	<div class="social">
		<a href="https://twitter.com">
			<i class="fa fa-twitter fa-2x" aria-hidden="true"></i>
		</a>
		<a href="https://github.com/stephenLYao">
			<i class="fa fa-github fa-2x" aria-hidden="true"></i>
		</a>
		<a href="http://www.weibo.com/3103316530/profile?rightmod=1&wvr=6&mod=personinfo">
			<i class="fa fa-weibo fa-2x" aria-hidden="true"></i>
		</a>
	</div>
	<p>@2016.Power by <a rel="nofollow"  href="https://hexo.io">Hexo</a>. Theme <a rel="nofollow" href="https://github.com/stephenLYao/hexo-theme-fresh.git">fresh</p>
</footer>


	
	<!-- js -->
	<script type="text/javascript" src="https://cdn.bootcss.com/zepto/1.2.0/zepto.min.js"></script>
	<script src="/js/toggle.js"></script>
</body>
</html>